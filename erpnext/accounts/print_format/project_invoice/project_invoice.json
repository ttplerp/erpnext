{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2023-06-07 12:31:18.732736",
 "css": "@media all {\r\n   div .printedby {\r\n       position: absolute;\r\n       bottom: 0;\r\n       text-align: center;\r\n       font-size: xx-small;\r\n       width: 90% !important;\r\n   }\r\n}\r\n.mytable, .mytable th, .mytable td {\r\n\tborder: 1px solid #999;\r\n        line-height: 1;    \r\n}\r\n.table1,  td {\r\n\tline-height:0.8;\r\n}\r\n.thick {\r\n\tfont-weight: bold;\r\n}\r\n\r\n.normal {\r\n\tfont-weight: normal;\r\n}\r\ntr.noBorder td {\r\n  border: 0;\r\n}\r\n.project-engineer-text {\r\n    float: right;\r\n    width: 100%; \r\n    text-align: right;\r\n    padding-top: 90px;\r\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Project Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<div class=\"page-break\">\r\n\t{%- if letter_head and not no_letterhead -%}\r\n\t<div class=\"letter-head\">{{ letter_head }}</div>\r\n\t{%- endif -%}\r\n\r\n\t<div id=\"main\">\r\n\t\t<h3 align = \"center\">RUNNING ACCOUNT BILL</h3>\r\n\t\t<h5 align = \"center\"><u>{{doc.branch}}</u></h5>\r\n\t</div>\r\n\t<div style=\"margin-top: 10px;\">\r\n\t\t<table class = \"table1\" style=\"margin-top: 1px; text-align:justify;font-size:small; width:100% \">\r\n\t\t\t<tr>\r\n\t\t\t\t<td width =\"140\" style = \"width:25%;\"> <strong>Project Name:</strong></td>\r\n\t\t\t\t<td>{{doc.project}}</td>\r\n\t\t\t\t<td align= \"left\" style=\"width: 15%;\"><strong>Invoice #:</strong></td>\r\n\t\t\t\t<td>{{ doc.name }}</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td><strong>Invoice Date: </strong></td>\r\n\t\t\t\t<td> {{frappe.utils.formatdate(doc.invoice_date)}}</td>\r\n\t\t\t\t<td><strong>Customer:</strong></td>\r\n\t\t\t\t<td>{{ doc.party }}</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t    <td><strong>Inauguration:</strong></td>\r\n\t\t\t\t<td> {{ frappe.db.get_value(\"Project\",doc.project, \"expected_start_date\")}}</td>\r\n\t\t\t\t<td><strong>Status:</strong></td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t{%- if doc.docstatus == 0 -%}\r\n\t\t\t             Draft\r\n\t                {%- endif -%}\r\n\t\t\t\t\t{%- if doc.docstatus == 1 -%}\r\n\t\t\t             Submitted\r\n\t                {%- endif -%}\t\r\n\t\t\t\t\t{%- if doc.docstatus == 2 -%}\r\n\t\t\t             Cancelled\r\n\t                {%- endif -%}\t\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr> \r\n\t\t\t\t<td> <strong> Completion Date:</strong></td>\r\n\t\t\t\t<td> {{ frappe.db.get_value(\"Project\",doc.project, \"expected_end_date\") }}</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr> \r\n\t\t\t\t<td> <strong> Contract Price:</strong></td>\r\n\t\t\t\t<td>{{ frappe.format_value(frappe.db.get_value(\"Project\",doc.project, \"boq_value\"), {\"fieldtype\": \"Currency\"})}}</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr> \r\n\t\t\t\t<td> <strong> Advance Payment:</strong></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n\t<div>\r\n\t\t<table cellpadding=\"0\" cellspacing=\"0\" class=\"mytable\" style=\"margin-top: 20px; text-align:center;font-size:small\">\r\n\t\t\t<col align=\"left\">\r\n\t\t\t<col align=\"left\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t  <th style=\"text-align: center;\" rowspan=\"4\" ;>Sr</th>\r\n\t\t\t\t  <th style=\"text-align: center;\" rowspan=\"4\">Description of item.</th>\r\n\t\t\t\t  <th style=\"text-align: center;\" rowspan=\"4\" ;>Unit</th>\r\n\t\t\t\t  <th style=\"text-align: center;\" colspan=\"2\">BOQ</th>\r\n\t\t\t\t  <th style=\"text-align: center;\" colspan=\"2\">Quantity</th>\r\n\t\t\t\t  <th style=\"text-align: center;\" colspan=\"2\">Amount(Nu)</th>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th style=\"text-align: center;\">Rate</th>\r\n\t\t\t\t\t<th style=\"text-align: center;\">Qty</th>\r\n\t\t\t\t\t<th style=\"text-align: center;\">Since previous</th>\r\n\t\t\t\t\t<th style=\"text-align: center;\">Up to Date</th>\r\n\t\t\t\t\t<th style=\"text-align: center;\">Since previous</th>\r\n\t\t\t\t\t<th style=\"test-align:center;\">Up to Date</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\r\n\t\t\t{%- for row in doc.project_invoice_boq -%}\r\n\t\t\t\t{%- if row.is_group -%}\r\n\t\t\t\t\t{% set group = 'thick' %}\r\n\t\t\t\t\t{% set uom = '' %}\r\n\t\t\t\t\t{% set original_rate = '' %}\r\n\t\t\t\t\t{% set original_quantity = '' %}\r\n\t\t\t\t\t{% set invoice_quantity = '' %}\r\n\t\t\t\t\t{% set uptodate_quantity = '' %}\r\n\t\t\t\t\t{% set invoice_amount = '' %}\r\n\t\t\t\t\t{% set uptodate_amount = '' %}\r\n\t\t\t\t{%- else -%}\r\n\t\t\t\t\t{% set group = 'normal' %}\r\n\t\t\t\t\t{% set uom = row.uom %}\r\n\t\t\t\t\t{% set original_rate = frappe.format_value(row.original_rate, {\"fieldtype\":\"Currency\"}) %}\r\n\t\t\t\t\t{% set original_quantity = row.original_quantity %}\r\n\t\t\t\t\t{% set invoice_quantity = row.invoice_quantity if (row.invoice_quantity and row.is_selected) else '-'  %}\r\n\t\t\t\t\t{% set invoice_amount = frappe.format_value(row.invoice_amount | round (2), {\"fieldtype\":\"Currency\"}) if (row.invoice_amount and row.is_selected) else '-' %}\r\n\t\t\t\t\t{%- if row.is_selected -%}\r\n\t\t\t\t\t\t{%- if row.invoice_amount -%}\r\n\t\t\t\t\t\t\t{% set uptodate_quantity = (row.uptodate_quantity+row.invoice_quantity) if (row.uptodate_quantity+row.invoice_quantity) else '-' %}\r\n\t\t\t\t\t\t\t{% set uptodate_amount = frappe.format_value(row.uptodate_amount+row.invoice_amount | round (2), {\"fieldtype\":\"Currency\"}) if (row.uptodate_amount+row.invoice_amount) else '-' %}\r\n\t\t\t\t\t\t{%- else -%}\r\n\t\t\t\t\t\t\t{% set uptodate_quantity = row.uptodate_quantity if row.uptodate_quantity else '-' %}\r\n\t\t\t\t\t\t\t{% set uptodate_amount = frappe.format_value(row.uptodate_amount | round (2), {\"fieldtype\":\"Currency\"}) if row.uptodate_amount else '-' %}\r\n\t\t\t\t\t\t{%- endif -%}\r\n\t\t\t\t\t{%- else -%}\r\n\t\t\t\t\t\t{% set uptodate_quantity = row.uptodate_quantity if row.uptodate_quantity else '-' %}\r\n\t\t\t\t\t\t{% set uptodate_amount = frappe.format_value(row.uptodate_amount | round (2), {\"fieldtype\":\"Currency\"}) if row.uptodate_amount else '-' %}\r\n\t\t\t\t\t{%- endif -%}\r\n\t\t\t\t{%- endif -%}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<tr class=\"{{ group }}\">\r\n\t\t\t\t\t<td style=\"width: 3%;\">  {{ row.boq_code if row.boq_code else '' }}</td>\r\n\t\t\t\t\t<td style=\"width: 31%; text-align: left\"> {{ row.item }}</td>\r\n\t\t\t\t\t<td style=\"width: 8%;\">{{ row.uom if row.uom else ''}}</td>\r\n\t\t\t\t\t<td style=\"width: 8%; text-align: right\">{{ original_rate }}</td>\r\n\t\t\t\t\t<td style=\"width: 8%; text-align: right\">{{ original_quantity }}</td>\r\n\t\t\t\t\t<td style=\"width: 8%; text-align: right\">{{ invoice_quantity}}</td>\r\n\t\t\t\t\t<td style=\"width: 8%; text-align: right\">{{ uptodate_quantity }}</td>\r\n\t\t\t\t\t<td style=\"width: 13%; text-align:right\">{{ invoice_amount}}</td>\r\n\t\t\t\t\t<td style=\"width: 13%; text-align:right\">{{ uptodate_amount }}</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t\r\n\t\t\t{%- endfor -%}\r\n\t\t\t<tr class=\"noBorder\">\r\n\t\t\t  <td colspan=\"5\" style=\"text-align:right;\"><strong>Total :</strong></td>\r\n\t\t\t  <td colspan=\"3\" style=\"text-align:right;\">{{ frappe.format_value((doc.gross_invoice_amount), {\"fieldtype\":\"Currency\"})}}</td>\r\n\t\t\t  <td></td>\r\n\t\t\t</tr>\r\n\t\t\t<tr class=\"noBorder\">\r\n\t\t\t  <td colspan=\"5\" style=\"text-align:right\"><strong>Add For Price Adjustment :</strong></td>\r\n\t\t\t  <td colspan=\"3\" style=\"text-align:right;\">{{ frappe.format_value((doc.price_adjustment_amount), {\"fieldtype\":\"Currency\"})}}</td>\r\n\t\t\t  <td></td>\r\n\t\t\t</tr>\r\n\t\t\t<tr class=\"noBorder\">\r\n\t\t\t  <td colspan=\"5\" style=\"text-align:right\"><strong>Total including Price Adjustment :</strong></td>\r\n\t\t\t  <td colspan=\"3\" style=\"text-align:right;\" >{{ frappe.format_value((doc.net_invoice_amount), {\"fieldtype\":\"Currency\"})}}</td>\r\n\t\t\t  <td></td>\r\n\t\t\t</tr>\r\n\t\t\t<tr class=\"noBorder\">\r\n\t\t\t  <td colspan=\"5\" style=\"text-align:right;\"><strong>Advance Recovery :</strong></td>\r\n\t\t\t  <td colspan=\"3\" style=\"text-align:right;\">{{ frappe.format_value((0), {\"fieldtype\":\"Currency\"})}}</td>\r\n\t\t\t  <td></td>\r\n\t\t\t</tr>\r\n\t\t\t<tr class=\"noBorder\">\r\n\t\t\t  <td colspan=\"5\" style=\"text-align:right;\"><strong>TDS :</strong></td>\r\n\t\t\t  <td colspan=\"3\" style=\"text-align:right;\">{{ frappe.format_value((doc.tds_amount), {\"fieldtype\":\"Currency\"})}}</td>\r\n\t\t\t</tr>\r\n\r\n{%- for row in doc.deductions -%}\r\n<tr class=\"noBorder\">\r\n\t <td colspan=\"5\" style=\"text-align:right;\"><strong>{{row.account}} :</strong></td>\r\n \r\n<td colspan=\"3\" style=\"text-align:right;\">{{ frappe.format_value((row.amount), {\"fieldtype\":\"Currency\"})}}</td>\r\n</tr>\r\n{%- endfor -%}\r\n\t\t\t<tr class=\"noBorder\">\r\n\t\t\t  <td colspan=\"5\" style=\"text-align:right;\"><strong>Net Payable :</strong></td>\r\n\t\t\t  <td colspan=\"3\" style=\"text-align:right;\">{{ frappe.format_value((doc.net_invoice_amount), {\"fieldtype\":\"Currency\"})}}</td>\r\n\t\t\t  <td></td>\r\n\t\t\t</tr>\t\t\t\r\n\t\t</table>\r\n\t</div>\r\n\t <div class=\"project-engineer-text\">\r\n        Project Engineer.\r\n    </div>\r\n    <div id=\"footer-html\" class=\"hidden-pdf\" style=\"postion: absolute; bottom: 0;\">\r\n        <div id=\"printedby\">\r\n            <p style=\"padding-top: 30px; clear: both; font-size:10px;text-align:center;\">This print is system generated and should be considered VALID only with appropriate seal and/or signature. <br>  Printed by {{ frappe.user }} on {{ frappe.utils.nowdate()  }} at {{ frappe.utils.nowtime() }}</p>\r\n        </div>\r\n        <p class=\"text-center small page-number visible-pdf\">\r\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </p>\r\n    </div>\r\n</div>\r\n\r\n\r\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2023-10-03 15:45:47.128890",
 "modified_by": "Administrator",
 "module": "Accounts",
 "name": "Project Invoice",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}